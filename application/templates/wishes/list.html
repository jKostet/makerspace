{% extends "layout.html" %}

{% block body %}
  {% if wishes|length == 0 %}
  <p>No wishes. <a href="{{ url_for('wishes_form')}}">Would you like to create one? </a></p>
  {% else %}

  <table>
    {% for wish in wishes %}
    <div class="wish card">
      <span class="card-header wishTitle">
        <button class="upvote"></button>
        <a href="{{ url_for('single_wish_page', wish_id=wish.id) }}" > {{ wish.name }} </a>
        <!--{{ wish.name }}-->
      </span>
      <span class="card-body">
        <span class="card-text">
          {{ wish.details }}
        </span>
        <br><br>
        <span class="wishUser">
          Posted by: fixthis
          <!-- TODO: match this to all wishes???  wishAuthor.name }}-->
          <!-- get author by wish.account_id -->
        </span>
        <span class="wishStatus">
          {% if wish.approved %}
          , Approved!
          {% endif %}
        </span>
        <!--td>{{ wish.fulfilled }}</td-->
        <form method="POST" action="{{ url_for('wishes_set_approved', wish_id=wish.id) }}">
          <input class="btn" type="submit" value="Approve!"/>
        </form>
        <!-- TODO: add button to mark wishes as fulfilled -->
      </span>
    </div>
    {% endfor %}
    </table>
  {% endif %}
{% endblock %}
